<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
        /* $(function(){
            $.get('persons.json',function(data){
                //console.log(data)
                $.each(data.persons,function(){
                    const person = $(`<option value='${this.fname}'>${this.fname} ${this.lname}</option>`)
                    $('#names').append(person)
                })
                
            })
        }) */

        $(function(){
            $.ajaxSetup({
                url:'persons.json',
                type:'get'
            })

            $.ajax({
                success:function(data){
                    $.each(data.persons,function(){
                    const person = $(`<option value='${this.fname}'>${this.fname} ${this.lname}</option>`)
                    $('#names').append(person)
                })
                },
                error:function(){
                    $('body').prepend(`<h1>Something Went Wrong Please try again later</h1>`);
                }
            })
        })
    </script>
</head>
<body>
    <select id="names">
        <option>Please select one option</option>
    </select>
</body>
</html>